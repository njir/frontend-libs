<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
        <title>Insert title here</title>
        <!--jquerybbq jquery 9+ 버전 호환성에 문제 있음.. 아래의 코드로 해결해야 함.. -->
        <script src="../libs/jquery/jquery-1.11.0.js">
        </script>
        <script type="text/javascript">
            jQuery.browser = {};
            (function(){
                jQuery.browser.msie = false;
                jQuery.browser.version = 0;
                if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
                    jQuery.browser.msie = true;
                    jQuery.browser.version = RegExp.$1;
                }
            })();
        </script>
        <script src="../libs/jquerybbq/jquery.ba-bbq.js"></script>
        <script>
        	$(function(){
        		$('#color div').bind('click', function(){
        			// change hash
        			$.bbq.pushState({
        				color: $(this).text()
        			})
        		})
        		// hash change event
        		$(window).bind('hashchange', function(e){
        			// get hash value
        			var color = $.bbq.getState('color')
        			if (color)
        				$('#contents').css('background', color)
        			else 
        				$('#contents').css('background', 'green')
        		})
        		// when hash value exists, user click refresh
        		// event generate
        		$(window).trigger('hashchange')
        	})
        </script>
       
    </head>
    <body>
        <div id="color" style="float:left">
            <div style="width:50px;height:50px;background:red;">
                red
            </div>
            <div style="width:50px;height:50px;background:blue;">
                blue
            </div>
            <div style="width:50px;height:50px;background:yellow;">
                yellow
            </div>
        </div>
        <div id="contents" style="width:150px;height:150px;background:green;">
        </div>
    </body>
</html>
